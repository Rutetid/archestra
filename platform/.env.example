# OpenAI API Key
# FIXME Consider keeping OPENAI_API_KEY empty by default so that it triggers validation if left empty
OPENAI_API_KEY=your-api-key-here

# Database URL
DATABASE_URL="postgresql://archestra:archestra_dev_password@localhost:5432/archestra_dev?schema=public"

# =============================================================================
# AUTHENTICATION CONFIGURATION
# =============================================================================
#
# The platform supports two deployment scenarios:
#
# SCENARIO 1: Same domain, different ports (simplest for local development)
# -----------------------------------------------------------------------------
# Frontend:  http://localhost:3000
# Backend:   http://localhost:9000
# Cookie Domain: (leave unset)
#
# Configuration:
ARCHESTRA_API_BASE_URL="http://localhost:9000"
# NEXT_PUBLIC_ARCHESTRA_API_BASE_URL="http://localhost:9000"  # Optional, defaults to ARCHESTRA_API_BASE_URL
# ARCHESTRA_AUTH_COOKIE_DOMAIN=""  # Leave unset or empty
# ARCHESTRA_ALLOWED_FRONTEND_ORIGINS=""  # Leave unset (defaults to localhost regex)
#
#
# SCENARIO 2: Same parent domain, different subdomains (production-like setup)
# -----------------------------------------------------------------------------
# Frontend:  http://frontend.archestra.ai:3000
# Backend:   http://backend.archestra.ai:9000
# Cookie Domain: .archestra.ai (note the leading dot)
#
# Configuration:
# ARCHESTRA_API_BASE_URL="http://backend.archestra.ai:9000"
# NEXT_PUBLIC_ARCHESTRA_API_BASE_URL="http://backend.archestra.ai:9000"
# ARCHESTRA_AUTH_COOKIE_DOMAIN=".archestra.ai"
# ARCHESTRA_ALLOWED_FRONTEND_ORIGINS="http://frontend.archestra.ai:3000"
#
# Note: Add these entries to /etc/hosts for local development:
# 127.0.0.1 frontend.archestra.ai
# 127.0.0.1 backend.archestra.ai
#
#
# PRODUCTION EXAMPLE (HTTPS with subdomains):
# -----------------------------------------------------------------------------
# Frontend:  https://app.example.com
# Backend:   https://api.example.com
# Cookie Domain: .example.com
#
# Configuration:
# ARCHESTRA_API_BASE_URL="https://api.example.com"
# NEXT_PUBLIC_ARCHESTRA_API_BASE_URL="https://api.example.com"
# ARCHESTRA_AUTH_COOKIE_DOMAIN=".example.com"
# ARCHESTRA_ALLOWED_FRONTEND_ORIGINS="https://app.example.com"
# NODE_ENV="production"
#
# =============================================================================

# Frontend-specific API base URL (optional)
# If not set, defaults to ARCHESTRA_API_BASE_URL
# NEXT_PUBLIC_ARCHESTRA_API_BASE_URL="http://localhost:9000"

# Cookie domain for cross-subdomain authentication (optional)
# Leave unset for same-domain scenarios (localhost:3000 + localhost:9000)
# Set to parent domain with leading dot for subdomain scenarios (.archestra.ai, .example.com)
# ARCHESTRA_AUTH_COOKIE_DOMAIN=".archestra.ai"

# Allowed Frontend Origins (optional)
# Comma-separated list of frontend origins allowed to access the API
# If not set, defaults to localhost regex (allows http(s)://localhost on any port)
# Note: Wildcard "*" is not supported due to credentials mode (cookie-based authentication)
# Examples:
#   Single domain: ARCHESTRA_ALLOWED_FRONTEND_ORIGINS="https://app.example.com"
#   Multiple domains: ARCHESTRA_ALLOWED_FRONTEND_ORIGINS="https://app.example.com,https://dashboard.example.com"
#   Local development: ARCHESTRA_ALLOWED_FRONTEND_ORIGINS="http://localhost:3000"
# ARCHESTRA_ALLOWED_FRONTEND_ORIGINS="https://app.example.com"

# Configuration for docker compose demos, e.g. docker-compose-n8n.yml and docker-compose-mastra.yml
DOMAIN_NAME=localhost
SSL_EMAIL=admin@localhost
GENERIC_TIMEZONE=UTC

# n8n
SUBDOMAIN=n8n

# Mastra
MASTRA_SUBDOMAIN=mastra
GITHUB_TOKEN=

# Analytics configuration for PostHog
ARCHESTRA_ANALYTICS=

# Auth
ARCHESTRA_AUTH_SECRET=
ARCHESTRA_AUTH_ADMIN_EMAIL=admin@localhost.ai
ARCHESTRA_AUTH_ADMIN_PASSWORD=password
